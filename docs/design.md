# ğŸ—ï¸ é¡¹ç›®ç®¡ç†ç³»ç»Ÿ - ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: ä¼ä¸šçº§é¡¹ç›®ç®¡ç†ç³»ç»Ÿ  
**é¡¹ç›®ç±»å‹**: Web åº”ç”¨ç¨‹åº  
**æŠ€æœ¯æ¶æ„**: å‰åç«¯åˆ†ç¦»  
**å¼€å‘è¯­è¨€**: JavaScript/Node.js  
**ç›®æ ‡ç”¨æˆ·**: ä¼ä¸šç®¡ç†å‘˜ã€é¡¹ç›®ç»ç†ã€å®¢æˆ·  
**ç‰ˆæœ¬**: 1.0.0  
**æ›´æ–°æ—¥æœŸ**: 2025-10-22

---

## ğŸ¯ ç³»ç»Ÿå®šä½ä¸ç›®æ ‡

### æ ¸å¿ƒå®šä½
æä¾›ä¸€ä¸ªè½»é‡çº§ã€æ˜“ç”¨çš„é¡¹ç›®ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒé¡¹ç›®ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€ä»»åŠ¡è·Ÿè¸ªã€æ–‡æ¡£ç®¡ç†ã€å›¢é˜Ÿåä½œç­‰åŠŸèƒ½ã€‚

### è®¾è®¡ç›®æ ‡
1. **ç®€å•æ˜“ç”¨** - ç›´è§‚çš„ç”¨æˆ·ç•Œé¢ï¼Œé™ä½å­¦ä¹ æˆæœ¬
2. **æƒé™åˆ†æ˜** - æ¸…æ™°çš„è§’è‰²æƒé™ä½“ç³»
3. **åŠŸèƒ½å®Œæ•´** - è¦†ç›–é¡¹ç›®ç®¡ç†å…¨æµç¨‹
4. **å“åº”è¿…é€Ÿ** - ä¼˜åŒ–çš„æ€§èƒ½è¡¨ç°
5. **æ˜“äºéƒ¨ç½²** - ç®€åŒ–çš„éƒ¨ç½²æµç¨‹

---

## ğŸ›ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®¢æˆ·ç«¯å±‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Webæµè§ˆå™¨   â”‚  â”‚  ç§»åŠ¨æµè§ˆå™¨  â”‚  â”‚  PWAåº”ç”¨   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚                 â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Nginx/é™æ€    â”‚
                    â”‚   èµ„æºæœåŠ¡å™¨    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åº”ç”¨å±‚ï¼ˆå‰ç«¯ï¼‰    â”‚              â”‚   APIå±‚ï¼ˆåç«¯ï¼‰     â”‚
â”‚                    â”‚              â”‚                    â”‚
â”‚  React SPA         â”‚â—„â”€â”€â”€â”€RESTâ”€â”€â”€â”€â–ºâ”‚  Express Server    â”‚
â”‚  - è·¯ç”±ç®¡ç†        â”‚              â”‚  - è·¯ç”±å¤„ç†        â”‚
â”‚  - çŠ¶æ€ç®¡ç†        â”‚              â”‚  - ä¸šåŠ¡é€»è¾‘        â”‚
â”‚  - ç»„ä»¶åº“          â”‚              â”‚  - æƒé™éªŒè¯        â”‚
â”‚  - å®æ—¶é€šä¿¡        â”‚              â”‚  - æ•°æ®éªŒè¯        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚   æ•°æ®å±‚          â”‚
                                    â”‚                   â”‚
                                    â”‚  SQLite Database  â”‚
                                    â”‚  - ç”¨æˆ·æ•°æ®       â”‚
                                    â”‚  - é¡¹ç›®æ•°æ®       â”‚
                                    â”‚  - æ–‡æ¡£æ•°æ®       â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆè¯¦è§£

#### å‰ç«¯æŠ€æœ¯æ ˆ
```
â”œâ”€â”€ æ ¸å¿ƒæ¡†æ¶
â”‚   â”œâ”€â”€ React 18.x - UIæ¡†æ¶
â”‚   â”œâ”€â”€ React Router - è·¯ç”±ç®¡ç†
â”‚   â””â”€â”€ Context API - çŠ¶æ€ç®¡ç†
â”‚
â”œâ”€â”€ UI/æ ·å¼
â”‚   â”œâ”€â”€ CSS Modules - ç»„ä»¶æ ·å¼éš”ç¦»
â”‚   â”œâ”€â”€ Inline Styles - åŠ¨æ€æ ·å¼
â”‚   â””â”€â”€ å“åº”å¼è®¾è®¡ - ç§»åŠ¨ç«¯é€‚é…
â”‚
â”œâ”€â”€ å·¥å…·åº“
â”‚   â”œâ”€â”€ bcryptjs - å¯†ç åŠ å¯†
â”‚   â”œâ”€â”€ date-fns/dayjs - æ—¥æœŸå¤„ç†
â”‚   â””â”€â”€ file-saver - æ–‡ä»¶ä¸‹è½½
â”‚
â””â”€â”€ æ„å»ºå·¥å…·
    â”œâ”€â”€ Webpack/Vite - æ‰“åŒ…å·¥å…·
    â”œâ”€â”€ Babel - JSç¼–è¯‘
    â””â”€â”€ ESLint - ä»£ç è§„èŒƒ
```

#### åç«¯æŠ€æœ¯æ ˆ
```
â”œâ”€â”€ è¿è¡Œç¯å¢ƒ
â”‚   â””â”€â”€ Node.js 16+ - JavaScriptè¿è¡Œæ—¶
â”‚
â”œâ”€â”€ Webæ¡†æ¶
â”‚   â”œâ”€â”€ Express 4.x - WebæœåŠ¡å™¨æ¡†æ¶
â”‚   â”œâ”€â”€ CORS - è·¨åŸŸå¤„ç†
â”‚   â””â”€â”€ Body-parser - è¯·æ±‚è§£æ
â”‚
â”œâ”€â”€ æ•°æ®åº“
â”‚   â”œâ”€â”€ SQLite3 - åµŒå…¥å¼æ•°æ®åº“
â”‚   â””â”€â”€ è‡ªå®šä¹‰DBå°è£… - ç®€åŒ–æ“ä½œ
â”‚
â”œâ”€â”€ è®¤è¯æˆæƒ
â”‚   â”œâ”€â”€ JWT - Tokenè®¤è¯
â”‚   â”œâ”€â”€ bcryptjs - å¯†ç åŠ å¯†
â”‚   â””â”€â”€ è‡ªå®šä¹‰ä¸­é—´ä»¶ - æƒé™æ§åˆ¶
â”‚
â”œâ”€â”€ æ–‡ä»¶å¤„ç†
â”‚   â”œâ”€â”€ Multer - æ–‡ä»¶ä¸Šä¼ 
â”‚   â”œâ”€â”€ fs/path - æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
â”‚   â””â”€â”€ è‡ªå®šä¹‰å­˜å‚¨ç­–ç•¥
â”‚
â””â”€â”€ å…¶ä»–æœåŠ¡
    â”œâ”€â”€ Nodemailer - é‚®ä»¶å‘é€
    â””â”€â”€ Socket.io - å®æ—¶é€šä¿¡ï¼ˆé¢„ç•™ï¼‰
```

---

## ğŸ¨ åŠŸèƒ½æ¨¡å—è®¾è®¡

### 1. ç”¨æˆ·è®¤è¯ä¸æƒé™ç®¡ç†

#### 1.1 è§’è‰²ä½“ç³»

| è§’è‰² | è‹±æ–‡æ ‡è¯† | æƒé™èŒƒå›´ | ä¸»è¦èŒè´£ |
|------|----------|----------|----------|
| **ç³»ç»Ÿç®¡ç†å‘˜** | admin | å…¨å±€ç®¡ç† | ç³»ç»Ÿé…ç½®ã€ç”¨æˆ·ç®¡ç†ã€æ‰€æœ‰é¡¹ç›®ç®¡ç† |
| **é¡¹ç›®ç»ç†** | project_manager | é¡¹ç›®èŒƒå›´ | ç®¡ç†åˆ†é…çš„é¡¹ç›®ã€ä»»åŠ¡åˆ†é…ã€è¿›åº¦è·Ÿè¸ª |
| **å®¢æˆ·** | client | è‡ªæœ‰é¡¹ç›® | æŸ¥çœ‹è‡ªå·±çš„é¡¹ç›®ã€æŸ¥çœ‹æ–‡æ¡£ã€å‘é€æ¶ˆæ¯ |

#### 1.2 æƒé™çŸ©é˜µ

| åŠŸèƒ½æ¨¡å— | ç®¡ç†å‘˜ | é¡¹ç›®ç»ç† | å®¢æˆ· |
|---------|--------|---------|------|
| **ç”¨æˆ·ç®¡ç†** |
| - åˆ›å»ºç”¨æˆ· | âœ… | âŒ | âŒ |
| - ç¼–è¾‘ç”¨æˆ· | âœ… | âŒ | âŒ |
| - åˆ é™¤ç”¨æˆ· | âœ… | âŒ | âŒ |
| - æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨ | âœ… | âŒ | âŒ |
| **é¡¹ç›®ç®¡ç†** |
| - åˆ›å»ºé¡¹ç›® | âœ… | âŒ | âŒ |
| - ç¼–è¾‘é¡¹ç›® | âœ… | âœ…(è‡ªå·±çš„) | âŒ |
| - åˆ é™¤é¡¹ç›® | âœ… | âŒ | âŒ |
| - æŸ¥çœ‹é¡¹ç›® | âœ…(å…¨éƒ¨) | âœ…(è‡ªå·±çš„) | âœ…(è‡ªå·±çš„) |
| **ä»»åŠ¡ç®¡ç†** |
| - åˆ›å»ºä»»åŠ¡ | âœ… | âœ…(è‡ªå·±çš„é¡¹ç›®) | âŒ |
| - ç¼–è¾‘ä»»åŠ¡ | âœ… | âœ…(è‡ªå·±çš„é¡¹ç›®) | âŒ |
| - åˆ é™¤ä»»åŠ¡ | âœ… | âœ…(è‡ªå·±çš„é¡¹ç›®) | âŒ |
| - æŸ¥çœ‹ä»»åŠ¡ | âœ… | âœ… | âœ… |
| **æ–‡æ¡£ç®¡ç†** |
| - ä¸Šä¼ æ–‡æ¡£ | âœ… | âœ…(è‡ªå·±çš„é¡¹ç›®) | âŒ |
| - ä¸‹è½½æ–‡æ¡£ | âœ… | âœ… | âœ… |
| - åˆ é™¤æ–‡æ¡£ | âœ… | âœ…(è‡ªå·±çš„é¡¹ç›®) | âŒ |
| - ç®¡ç†æ–‡ä»¶å¤¹ | âœ… | âœ…(è‡ªå·±çš„é¡¹ç›®) | âŒ |
| **ç³»ç»Ÿé…ç½®** |
| - ç³»ç»Ÿè®¾ç½® | âœ… | âŒ | âŒ |
| - é‚®ä»¶é…ç½® | âœ… | âŒ | âŒ |
| - é¡¹ç›®é…ç½® | âœ… | âŒ | âŒ |

#### 1.3 è®¤è¯æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç™»å½•è¯·æ±‚ â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ éªŒè¯ç”¨æˆ·å/å¯†ç   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”œâ”€ éªŒè¯å¤±è´¥ â†’ è¿”å›é”™è¯¯
     â”‚
     â”œâ”€ éªŒè¯æˆåŠŸ
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”ŸæˆJWT Token  â”‚
â”‚  - payload: {   â”‚
â”‚    userId       â”‚
â”‚    username     â”‚
â”‚    role         â”‚
â”‚    exp          â”‚
â”‚  }              â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¿”å›Tokenç»™å®¢æˆ·ç«¯â”‚
â”‚  å­˜å‚¨åœ¨localStorageâ”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åç»­è¯·æ±‚æºå¸¦    â”‚
â”‚  Authorization:  â”‚
â”‚  Bearer {token}  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.4 æƒé™éªŒè¯ä¸­é—´ä»¶

```javascript
// åŸºç¡€è®¤è¯
authenticateToken(req, res, next)

// ç®¡ç†å‘˜æƒé™
requireAdmin(req, res, next)

// é¡¹ç›®ç®¡ç†æƒé™
requireProjectManagement(req, res, next)

// èµ„æºæ‰€æœ‰è€…æƒé™
requireOwnership(resourceType)(req, res, next)
```

---

### 2. é¡¹ç›®ç®¡ç†æ¨¡å—

#### 2.1 é¡¹ç›®ç”Ÿå‘½å‘¨æœŸ

```
è§„åˆ’ä¸­ (planning)
    â†“
è¿›è¡Œä¸­ (in_progress)
    â†“
    â”œâ”€â†’ å·²æš‚åœ (paused) â”€â†’ é‡æ–°è¿›è¡Œä¸­
    â”‚
    â”œâ”€â†’ å·²å®Œæˆ (completed)
    â”‚
    â””â”€â†’ å·²å–æ¶ˆ (cancelled)
```

#### 2.2 é¡¹ç›®æ•°æ®æ¨¡å‹

```javascript
Project {
  // åŸºç¡€ä¿¡æ¯
  id: Integer,
  name: String(100),          // é¡¹ç›®åç§°
  description: Text,          // é¡¹ç›®æè¿°
  
  // çŠ¶æ€ä¸ä¼˜å…ˆçº§
  status: Enum,              // planning|in_progress|paused|completed|cancelled
  priority: Enum,            // low|medium|high|critical
  
  // æ—¶é—´ç®¡ç†
  start_date: Date,          // å¼€å§‹æ—¥æœŸ
  end_date: Date,            // ç»“æŸæ—¥æœŸ
  progress: Integer(0-100),  // è¿›åº¦ç™¾åˆ†æ¯”
  
  // äººå‘˜å…³è”
  client_id: Integer,        // å®¢æˆ·ID (FK)
  manager_id: Integer,       // é¡¹ç›®ç»ç†ID (FK)
  
  // è´¢åŠ¡
  budget: Decimal(10,2),     // é¢„ç®—é‡‘é¢
  
  // å®¡è®¡å­—æ®µ
  created_at: DateTime,
  updated_at: DateTime
}
```

#### 2.3 é¡¹ç›®å¡ç‰‡è®¾è®¡

**å¡ç‰‡å¸ƒå±€**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ é¡¹ç›®åç§°          [çŠ¶æ€] [ä¼˜å…ˆçº§] â”‚
â”‚ â­ é»˜è®¤æ ‡è®°ï¼ˆå¯é€‰ï¼‰                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é¡¹ç›®ç±»å‹                             â”‚
â”‚ é¡¹ç›®æè¿°ï¼ˆæœ€å¤š2è¡Œï¼‰                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¿›åº¦æ¡ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 65%               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é¡¹ç›®ç»ç†: å¼ ä¸‰                       â”‚
â”‚ æ‰€å±éƒ¨é—¨: æŠ€æœ¯éƒ¨                     â”‚
â”‚ å¼€å§‹æ—¥æœŸ: 2025-01-01                â”‚
â”‚ ç»“æŸæ—¥æœŸ: 2025-12-31                â”‚
â”‚ é¡¹ç›®é¢„ç®—: Â¥1,000,000                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âœï¸ ç¼–è¾‘]  [ğŸ—‘ï¸ åˆ é™¤]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é»˜è®¤é¡¹ç›®æœºåˆ¶**:
- å…¨å±€åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤é¡¹ç›®
- é»˜è®¤é¡¹ç›®åœ¨é€‰æ‹©å™¨ä¸­è‡ªåŠ¨é€‰ä¸­
- è®¾ç½®æ–°é»˜è®¤é¡¹ç›®æ—¶è‡ªåŠ¨å–æ¶ˆæ—§çš„

---

### 3. ä»»åŠ¡ç®¡ç†æ¨¡å—

#### 3.1 ä»»åŠ¡çŠ¶æ€æµè½¬

```
å¾…åŠ (todo)
    â†“
è¿›è¡Œä¸­ (in_progress)
    â†“
    â”œâ”€â†’ ç­‰å¾…ä¸­ (pending) â”€â†’ ç»§ç»­è¿›è¡Œä¸­
    â”‚
    â”œâ”€â†’ å·²å®Œæˆ (completed)
    â”‚
    â””â”€â†’ å·²å–æ¶ˆ (cancelled)
```

#### 3.2 ä»»åŠ¡æ•°æ®æ¨¡å‹

```javascript
Task {
  // åŸºç¡€ä¿¡æ¯
  id: Integer,
  project_id: Integer(FK),   // æ‰€å±é¡¹ç›®
  task_name: String(200),    // ä»»åŠ¡åç§°
  description: Text,         // ä»»åŠ¡æè¿°
  
  // çŠ¶æ€ä¸è¿›åº¦
  status: Enum,             // todo|in_progress|pending|completed|cancelled
  progress: Integer(0-100), // è¿›åº¦ç™¾åˆ†æ¯”
  
  // äººå‘˜ä¸å±‚çº§
  assigned_to: Integer(FK), // è´Ÿè´£äººID
  parent_task_id: Integer(FK), // çˆ¶ä»»åŠ¡IDï¼ˆæ”¯æŒå­ä»»åŠ¡ï¼‰
  
  // æ—¶é—´ç®¡ç†
  start_date: Date,
  due_date: Date,
  completed_at: DateTime,
  
  // å®¡è®¡å­—æ®µ
  created_at: DateTime,
  updated_at: DateTime
}
```

#### 3.3 ç”˜ç‰¹å›¾è®¾è®¡

**æ—¶é—´è½´å¸ƒå±€**:
```
ä»»åŠ¡åˆ—è¡¨          â”‚ 1æœˆ  â”‚ 2æœˆ  â”‚ 3æœˆ  â”‚ 4æœˆ  â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
éœ€æ±‚åˆ†æ         â”‚ â–ˆâ–ˆâ–ˆâ–ˆ â”‚      â”‚      â”‚      â”‚
ç³»ç»Ÿè®¾è®¡         â”‚   â–ˆâ–ˆ â”‚ â–ˆâ–ˆ   â”‚      â”‚      â”‚
å‰ç«¯å¼€å‘         â”‚      â”‚   â–ˆâ–ˆâ–ˆâ”‚ â–ˆâ–ˆâ–ˆ  â”‚      â”‚
åç«¯å¼€å‘         â”‚      â”‚    â–ˆâ–ˆâ”‚ â–ˆâ–ˆâ–ˆâ–ˆ â”‚      â”‚
æµ‹è¯•éƒ¨ç½²         â”‚      â”‚      â”‚      â”‚ â–ˆâ–ˆâ–ˆâ–ˆ â”‚
```

**äº¤äº’åŠŸèƒ½**:
- æ‹–æ‹½è°ƒæ•´æ—¶é—´
- ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…
- é¢œè‰²æ ‡è¯†çŠ¶æ€
- å…³é”®è·¯å¾„é«˜äº®

---

### 4. æ–‡æ¡£ç®¡ç†æ¨¡å—

#### 4.1 æ–‡ä»¶å¤¹æ ‘å½¢ç»“æ„

```
ğŸ“ é¡¹ç›®A - æ ¹ç›®å½•
â”œâ”€â”€ ğŸ“ éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“„ éœ€æ±‚è¯´æ˜ä¹¦.pdf
â”‚   â”œâ”€â”€ ğŸ“„ åŸå‹è®¾è®¡.sketch
â”‚   â””â”€â”€ ğŸ“ ç”¨æˆ·è°ƒç ”
â”‚       â”œâ”€â”€ ğŸ“„ è°ƒç ”é—®å·.docx
â”‚       â””â”€â”€ ğŸ“„ è®¿è°ˆè®°å½•.txt
â”œâ”€â”€ ğŸ“ æŠ€æœ¯æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“„ ç³»ç»Ÿæ¶æ„è®¾è®¡.pdf
â”‚   â”œâ”€â”€ ğŸ“„ APIæ¥å£æ–‡æ¡£.md
â”‚   â””â”€â”€ ğŸ“„ æ•°æ®åº“è®¾è®¡.xlsx
â”œâ”€â”€ ğŸ“ äº¤ä»˜ç‰©
â”‚   â”œâ”€â”€ ğŸ“„ éªŒæ”¶æŠ¥å‘Š.pdf
â”‚   â””â”€â”€ ğŸ“„ ç”¨æˆ·æ‰‹å†Œ.docx
â””â”€â”€ ğŸ“„ é¡¹ç›®è®¡åˆ’.mpp
```

#### 4.2 æ–‡ä»¶å¤¹æ•°æ®æ¨¡å‹

```javascript
DocumentFolder {
  id: Integer,
  project_id: Integer(FK),      // æ‰€å±é¡¹ç›®
  name: String(255),            // æ–‡ä»¶å¤¹åç§°
  description: Text,            // æè¿°
  icon: String(50),             // å›¾æ ‡ï¼ˆemojiï¼‰
  color: String(50),            // é¢œè‰²æ ‡è¯†
  parent_folder_id: Integer(FK), // çˆ¶æ–‡ä»¶å¤¹ID
  created_by: Integer(FK),      // åˆ›å»ºè€…
  created_at: DateTime,
  updated_at: DateTime
}
```

#### 4.3 æ–‡æ¡£æ•°æ®æ¨¡å‹

```javascript
Document {
  id: Integer,
  project_id: Integer(FK),      // æ‰€å±é¡¹ç›®
  folder_id: Integer(FK),       // æ‰€å±æ–‡ä»¶å¤¹
  
  // æ–‡ä»¶ä¿¡æ¯
  title: String(200),           // æ–‡æ¡£æ ‡é¢˜
  file_path: String(500),       // æ–‡ä»¶å­˜å‚¨è·¯å¾„
  file_type: String(50),        // æ–‡ä»¶ç±»å‹ï¼ˆæ‰©å±•åï¼‰
  file_size: Integer,           // æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
  
  // å…ƒæ•°æ®
  version: String(20),          // ç‰ˆæœ¬å·
  category: String(50),         // åˆ†ç±»
  is_public: Boolean,           // æ˜¯å¦å…¬å¼€
  
  // å†…å®¹ï¼ˆæ–‡æœ¬å‹æ–‡æ¡£ï¼‰
  content: Text,
  
  // äººå‘˜
  uploaded_by: Integer(FK),     // ä¸Šä¼ è€…
  
  // å®¡è®¡
  created_at: DateTime,
  updated_at: DateTime
}
```

#### 4.4 æ–‡æ¡£é¢„è§ˆæ”¯æŒ

| æ–‡ä»¶ç±»å‹ | é¢„è§ˆæ–¹å¼ | æ”¯æŒæ“ä½œ |
|---------|---------|---------|
| **PDF** | iframeåµŒå…¥ | ç¿»é¡µã€ç¼©æ”¾ã€ä¸‹è½½ |
| **Word** | Mammoth.jsè½¬æ¢ | æ–‡æœ¬æ¸²æŸ“ã€ä¸‹è½½ |
| **Excel** | SheetJSè§£æ | è¡¨æ ¼å±•ç¤ºã€ä¸‹è½½ |
| **å›¾ç‰‡** | imgæ ‡ç­¾ | æŸ¥çœ‹ã€ä¸‹è½½ |
| **æ–‡æœ¬** | ç›´æ¥æ˜¾ç¤º | æŸ¥çœ‹ã€ç¼–è¾‘ã€ä¸‹è½½ |
| **Markdown** | marked.jsæ¸²æŸ“ | HTMLå±•ç¤ºã€ç¼–è¾‘ |
| **PPT** | æç¤ºä¸æ”¯æŒ | ä»…ä¸‹è½½ |

#### 4.5 æ–‡ä»¶ä¸Šä¼ æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é€‰æ‹©æ–‡ä»¶   â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ éªŒè¯æ–‡ä»¶   â”‚
â”‚ - å¤§å°é™åˆ¶ â”‚
â”‚ - ç±»å‹é™åˆ¶ â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€ éªŒè¯å¤±è´¥ â†’ æç¤ºé”™è¯¯
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸Šä¼ åˆ°æœåŠ¡å™¨â”‚
â”‚ Multerå¤„ç† â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¿å­˜æ–‡ä»¶   â”‚
â”‚ /uploads/  â”‚
â”‚ project-{id}/â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•°æ®åº“è®°å½• â”‚
â”‚ - æ–‡ä»¶è·¯å¾„ â”‚
â”‚ - å…ƒæ•°æ®   â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿”å›æˆåŠŸ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5. æ¶ˆæ¯é€šè®¯æ¨¡å—

#### 5.1 æ¶ˆæ¯ç±»å‹

| ç±»å‹ | æ ‡è¯† | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| æ–‡æœ¬æ¶ˆæ¯ | text | æ™®é€šæ–‡å­—æ¶ˆæ¯ | "é¡¹ç›®è¿›åº¦æ›´æ–°..." |
| æ–‡ä»¶æ¶ˆæ¯ | file | é™„ä»¶æ¶ˆæ¯ | ğŸ“ è®¾è®¡ç¨¿.psd |
| å›¾ç‰‡æ¶ˆæ¯ | image | å›¾ç‰‡åˆ†äº« | ğŸ–¼ï¸ æˆªå›¾.png |
| ç³»ç»Ÿæ¶ˆæ¯ | system | ç³»ç»Ÿé€šçŸ¥ | "å¼ ä¸‰åˆ›å»ºäº†æ–°ä»»åŠ¡" |

#### 5.2 æ¶ˆæ¯æ•°æ®æ¨¡å‹

```javascript
Message {
  id: Integer,
  project_id: Integer(FK),      // æ‰€å±é¡¹ç›®
  sender_id: Integer(FK),       // å‘é€è€…
  message: Text,                // æ¶ˆæ¯å†…å®¹
  message_type: Enum,           // text|file|image|system
  attachment_path: String(500), // é™„ä»¶è·¯å¾„
  is_read: Boolean,             // æ˜¯å¦å·²è¯»
  created_at: DateTime
}
```

#### 5.3 å®æ—¶é€šä¿¡ï¼ˆé¢„ç•™ï¼‰

**æŠ€æœ¯æ–¹æ¡ˆ**: Socket.io  
**åŠŸèƒ½è®¡åˆ’**:
- å®æ—¶æ¶ˆæ¯æ¨é€
- åœ¨çº¿çŠ¶æ€æ˜¾ç¤º
- è¾“å…¥çŠ¶æ€æç¤º
- æ¶ˆæ¯å·²è¯»å›æ‰§

---

### 6. é…ç½®ç®¡ç†æ¨¡å—

#### 6.1 é…ç½®æ¨¡å—æ¶æ„

```
é…ç½®ç®¡ç†
â”œâ”€â”€ âš™ï¸ ç³»ç»Ÿé…ç½®
â”‚   â”œâ”€â”€ ç«™ç‚¹ä¿¡æ¯
â”‚   â”œâ”€â”€ é‚®ä»¶è®¾ç½®
â”‚   â””â”€â”€ å®‰å…¨è®¾ç½®
â”œâ”€â”€ ğŸ‘¥ ç”¨æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ ç”¨æˆ·åˆ—è¡¨
â”‚   â”œâ”€â”€ è§’è‰²ç®¡ç†
â”‚   â””â”€â”€ æƒé™åˆ†é…
â”œâ”€â”€ ğŸ¯ é¡¹ç›®é…ç½®ï¼ˆå…¨å±€ï¼‰
â”‚   â”œâ”€â”€ é»˜è®¤è®¾ç½®
â”‚   â”œâ”€â”€ å·¥ä½œæ—¶é—´
â”‚   â”œâ”€â”€ å·¥ä½œæµç¨‹
â”‚   â”œâ”€â”€ é€šçŸ¥è§„åˆ™
â”‚   â”œâ”€â”€ æ–‡æ¡£ç®¡ç†
â”‚   â”œâ”€â”€ æ˜¾ç¤ºåå¥½
â”‚   â””â”€â”€ å®‰å…¨è®¾ç½®
â”œâ”€â”€ ğŸ“§ é‚®ä»¶é…ç½®
â”‚   â”œâ”€â”€ SMTPè®¾ç½®
â”‚   â”œâ”€â”€ å‘ä»¶äººä¿¡æ¯
â”‚   â””â”€â”€ æµ‹è¯•å‘é€
â””â”€â”€ ğŸ“ é‚®ä»¶æ¨¡æ¿
    â”œâ”€â”€ æ¬¢è¿é‚®ä»¶
    â”œâ”€â”€ é€šçŸ¥é‚®ä»¶
    â””â”€â”€ æŠ¥å‘Šé‚®ä»¶
```

#### 6.2 é¡¹ç›®é…ç½®è¯¦è§£

**6.2.1 é»˜è®¤è®¾ç½®**
```javascript
{
  defaultPriority: 'medium',    // é»˜è®¤ä¼˜å…ˆçº§
  defaultStatus: 'planning',    // é»˜è®¤çŠ¶æ€
  defaultCurrency: 'CNY',       // é»˜è®¤è´§å¸
  defaultTimeZone: 'Asia/Shanghai', // é»˜è®¤æ—¶åŒº
  autoAssignId: true,           // è‡ªåŠ¨åˆ†é…ç¼–å·
  enableVersionControl: true    // å¯ç”¨ç‰ˆæœ¬æ§åˆ¶
}
```

**6.2.2 å·¥ä½œæ—¶é—´**
```javascript
{
  workingDays: ['monday', 'tuesday', 'wednesday', 'thursday', 'friday'],
  workingHours: {
    start: '09:00',
    end: '18:00'
  },
  breakTime: {
    start: '12:00',
    end: '13:00'
  },
  overtimeEnabled: false
}
```

**6.2.3 æ–‡æ¡£ç®¡ç†ï¼ˆå¢å¼ºç‰ˆï¼‰**
```javascript
{
  // åŸºç¡€è®¾ç½®
  maxFileSize: 50,  // MB
  allowedFileTypes: ['pdf', 'doc', 'docx', ...],
  retentionDays: 365,
  
  // é¢„è§ˆè®¾ç½®
  previewableTypes: ['pdf', 'txt', 'md', 'doc', 'docx'],
  autoPreview: true,
  
  // é«˜çº§åŠŸèƒ½
  autoVersioning: true,
  requireApproval: false,
  compressionEnabled: true,
  downloadPermission: 'all'  // all|admin|none
}
```

**6.2.4 é€šçŸ¥è§„åˆ™**
```javascript
{
  projectCreation: true,
  statusChange: true,
  milestoneReached: true,
  deadlineReminder: true,
  reminderDaysBefore: 3,
  emailNotifications: true,
  systemNotifications: true
}
```

---

### 7. ä¸ªäººä¸­å¿ƒæ¨¡å—

#### 7.1 åŠŸèƒ½æ¸…å•

| åŠŸèƒ½ | è¯´æ˜ | å®ç°çŠ¶æ€ |
|------|------|---------|
| **ä¸ªäººä¿¡æ¯** | æŸ¥çœ‹/ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯ | âœ… |
| **å¤´åƒç®¡ç†** | ä¸Šä¼ /æ›´æ¢å¤´åƒ | âœ… |
| **å¯†ç ä¿®æ”¹** | ä¿®æ”¹ç™»å½•å¯†ç  | âœ… |
| **é€šçŸ¥è®¾ç½®** | é…ç½®é€šçŸ¥åå¥½ | âœ… |
| **å®‰å…¨è®¾ç½®** | ä¼šè¯ç®¡ç†ã€ç™»å½•å†å² | ğŸ”„ è®¡åˆ’ä¸­ |

#### 7.2 é€šçŸ¥è®¾ç½®

```javascript
NotificationSettings {
  user_id: Integer(FK),
  
  // é€šçŸ¥å¼€å…³
  email_notifications: Boolean,      // é‚®ä»¶é€šçŸ¥
  task_notifications: Boolean,       // ä»»åŠ¡é€šçŸ¥
  project_notifications: Boolean,    // é¡¹ç›®é€šçŸ¥
  document_notifications: Boolean,   // æ–‡æ¡£é€šçŸ¥
  system_notifications: Boolean,     // ç³»ç»Ÿé€šçŸ¥
  comment_notifications: Boolean,    // è¯„è®ºé€šçŸ¥
  
  // é€šçŸ¥é¢‘ç‡
  notification_frequency: Enum,      // immediate|hourly|daily|weekly
  
  // å…æ‰“æ‰°æ—¶é—´
  quiet_hours_start: Time,
  quiet_hours_end: Time,
  
  created_at: DateTime,
  updated_at: DateTime
}
```

---

## ğŸ¨ UI/UX è®¾è®¡è§„èŒƒ

### 1. è®¾è®¡åŸåˆ™

#### 1.1 è§†è§‰è®¾è®¡
- **é…è‰²æ–¹æ¡ˆ**: è“ç´«æ¸å˜ä¸»é¢˜
  - ä¸»è‰²: `#667eea` â†’ `#764ba2`
  - è¾…åŠ©è‰²: çŠ¶æ€è‰²ï¼ˆæˆåŠŸã€è­¦å‘Šã€é”™è¯¯ã€ä¿¡æ¯ï¼‰
  - èƒŒæ™¯: `#f5f5f5` / `#ffffff`
  
- **å­—ä½“ç³»ç»Ÿ**:
  - ä¸»å­—ä½“: ç³»ç»Ÿé»˜è®¤å­—ä½“æ ˆ
  - å­—å·: 12px - 28pxï¼ˆå“åº”å¼ï¼‰
  - è¡Œé«˜: 1.5 - 1.8

- **åœ†è§’**: ç»Ÿä¸€ä½¿ç”¨ 8px/12px/16px
- **é˜´å½±**: å¤šå±‚æ¬¡é˜´å½±ç³»ç»Ÿ
  ```css
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);   /* è½»é‡ */
  box-shadow: 0 4px 12px rgba(0,0,0,0.15); /* æ ‡å‡† */
  box-shadow: 0 8px 24px rgba(0,0,0,0.2);  /* å¼ºè°ƒ */
  ```

#### 1.2 äº¤äº’è®¾è®¡
- **å“åº”é€Ÿåº¦**: 
  - æŒ‰é’®ç‚¹å‡»: < 100ms åé¦ˆ
  - é¡µé¢åŠ è½½: < 2s
  - APIè¯·æ±‚: < 500ms
  
- **åŠ¨ç”»è¿‡æ¸¡**: 
  - æ ‡å‡†è¿‡æ¸¡: 300ms ease
  - å¿«é€Ÿè¿‡æ¸¡: 150ms ease
  - æ…¢é€Ÿè¿‡æ¸¡: 500ms ease
  
- **åé¦ˆæœºåˆ¶**:
  - æ‚¬åœæ•ˆæœï¼ˆhoverï¼‰
  - ç‚¹å‡»æ•ˆæœï¼ˆactiveï¼‰
  - åŠ è½½çŠ¶æ€ï¼ˆloadingï¼‰
  - æˆåŠŸ/é”™è¯¯æç¤ºï¼ˆtoastï¼‰

### 2. ç»„ä»¶è®¾è®¡è§„èŒƒ

#### 2.1 æŒ‰é’®ç»„ä»¶

**ç±»å‹**:
```javascript
// ä¸»è¦æŒ‰é’®
<button style={{
  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
  color: 'white',
  padding: '12px 32px',
  borderRadius: '8px',
  border: 'none',
  cursor: 'pointer',
  fontWeight: '600'
}}>
  ä¿å­˜
</button>

// æ¬¡è¦æŒ‰é’®
<button style={{
  background: 'white',
  color: '#667eea',
  border: '2px solid #667eea',
  padding: '12px 32px',
  borderRadius: '8px',
  cursor: 'pointer'
}}>
  å–æ¶ˆ
</button>

// å±é™©æŒ‰é’®
<button style={{
  background: '#e74c3c',
  color: 'white',
  padding: '12px 32px',
  borderRadius: '8px',
  border: 'none',
  cursor: 'pointer'
}}>
  åˆ é™¤
</button>
```

#### 2.2 å¡ç‰‡ç»„ä»¶

**æ ‡å‡†å¡ç‰‡**:
```javascript
<div style={{
  background: 'white',
  borderRadius: '12px',
  padding: '24px',
  boxShadow: '0 2px 8px rgba(0,0,0,0.1)',
  border: '1px solid #e0e0e0',
  transition: 'all 0.3s ease'
}}>
  {/* å†…å®¹ */}
</div>
```

#### 2.3 è¡¨å•ç»„ä»¶

**è¾“å…¥æ¡†**:
```javascript
<input style={{
  width: '100%',
  padding: '10px 12px',
  border: '1px solid #ddd',
  borderRadius: '6px',
  fontSize: '14px',
  transition: 'border-color 0.2s ease'
}} />
```

**ä¸‹æ‹‰é€‰æ‹©**:
```javascript
<select style={{
  width: '100%',
  padding: '10px 12px',
  border: '1px solid #ddd',
  borderRadius: '6px',
  fontSize: '14px',
  cursor: 'pointer'
}}>
  <option>é€‰é¡¹1</option>
</select>
```

### 3. å“åº”å¼è®¾è®¡

#### 3.1 æ–­ç‚¹å®šä¹‰

```javascript
const breakpoints = {
  mobile: '768px',    // ç§»åŠ¨ç«¯
  tablet: '1024px',   // å¹³æ¿
  desktop: '1280px'   // æ¡Œé¢ç«¯
};
```

#### 3.2 å¸ƒå±€é€‚é…

**æ¡Œé¢ç«¯**:
- ä¾§è¾¹æ  + ä¸»å†…å®¹åŒº
- å¤šåˆ—ç½‘æ ¼å¸ƒå±€
- æ‚¬æµ®æ“ä½œæ 

**ç§»åŠ¨ç«¯**:
- å…¨å±å¸ƒå±€
- åº•éƒ¨å¯¼èˆªæ 
- æŠ½å±‰å¼èœå•
- å•åˆ—å¸ƒå±€

---

## ğŸ” å®‰å…¨è®¾è®¡

### 1. è®¤è¯å®‰å…¨

#### 1.1 å¯†ç ç­–ç•¥
```javascript
// å¯†ç è¦æ±‚
const passwordPolicy = {
  minLength: 6,
  requireUppercase: false,  // å¯é€‰ï¼šè¦æ±‚å¤§å†™
  requireLowercase: false,  // å¯é€‰ï¼šè¦æ±‚å°å†™
  requireNumbers: false,    // å¯é€‰ï¼šè¦æ±‚æ•°å­—
  requireSpecialChars: false // å¯é€‰ï¼šè¦æ±‚ç‰¹æ®Šå­—ç¬¦
};

// å¯†ç åŠ å¯†
bcrypt.hash(password, 10);  // åŠ å¯†å¼ºåº¦: 10
```

#### 1.2 Token ç®¡ç†
```javascript
// JWTé…ç½®
const jwtConfig = {
  secret: process.env.JWT_SECRET,
  expiresIn: '24h',        // æœ‰æ•ˆæœŸ
  algorithm: 'HS256'       // åŠ å¯†ç®—æ³•
};

// Tokenåˆ·æ–°æœºåˆ¶
if (tokenExpiresSoon) {
  refreshToken();
}
```

### 2. æ•°æ®å®‰å…¨

#### 2.1 SQLæ³¨å…¥é˜²æŠ¤
```javascript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
db.get('SELECT * FROM users WHERE id = ?', [userId]);

// âŒ é”™è¯¯ï¼šå­—ç¬¦ä¸²æ‹¼æ¥
db.get(`SELECT * FROM users WHERE id = ${userId}`);
```

#### 2.2 XSSé˜²æŠ¤
```javascript
// è¾“å…¥éªŒè¯
const sanitizeInput = (input) => {
  return input
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;')
    .replace(/'/g, '&#x27;');
};

// è¾“å‡ºè½¬ä¹‰
dangerouslySetInnerHTML={{__html: sanitizedContent}}
```

#### 2.3 æ–‡ä»¶ä¸Šä¼ å®‰å…¨
```javascript
// æ–‡ä»¶ç±»å‹ç™½åå•
const allowedTypes = [
  'pdf', 'doc', 'docx', 'xls', 'xlsx',
  'ppt', 'pptx', 'txt', 'md',
  'jpg', 'jpeg', 'png', 'gif'
];

// æ–‡ä»¶å¤§å°é™åˆ¶
const maxFileSize = 50 * 1024 * 1024; // 50MB

// æ–‡ä»¶åå®‰å…¨å¤„ç†
const safeName = filename
  .replace(/[<>:"/\\|?*]/g, '_')
  .replace(/\.\./g, '_');
```

### 3. APIå®‰å…¨

#### 3.1 CORSé…ç½®
```javascript
const cors = require('cors');

app.use(cors({
  origin: ['http://localhost:7076', 'https://yourdomain.com'],
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE'],
  allowedHeaders: ['Content-Type', 'Authorization']
}));
```

#### 3.2 è¯·æ±‚é™æµ
```javascript
// ä½¿ç”¨ express-rate-limit
const rateLimit = require('express-rate-limit');

const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15åˆ†é’Ÿ
  max: 100 // æœ€å¤š100ä¸ªè¯·æ±‚
});

app.use('/api/', limiter);
```

---

## ğŸ“Š æ•°æ®åº“è®¾è®¡

è¯¦è§ [æ•°æ®åº“è®¾è®¡æ–‡æ¡£](./database.md)

### æ ¸å¿ƒè¡¨æ¦‚è§ˆ

```
users (ç”¨æˆ·è¡¨)
  â””â”€â”¬â”€ projects (é¡¹ç›®è¡¨)
    â”œâ”€â”€â”€ project_progress (ä»»åŠ¡è¡¨)
    â”œâ”€â”¬â”€ document_folders (æ–‡ä»¶å¤¹è¡¨)
    â”‚ â””â”€â”€â”€ documents (æ–‡æ¡£è¡¨)
    â”œâ”€â”€â”€ messages (æ¶ˆæ¯è¡¨)
    â””â”€â”€â”€ task_comments (è¯„è®ºè¡¨)

settings (ç³»ç»Ÿè®¾ç½®è¡¨)
user_notification_settings (é€šçŸ¥è®¾ç½®è¡¨)
```

---

## ğŸ”„ å¼€å‘æµç¨‹

### 1. åˆ†æ”¯ç®¡ç†

```
main (ç”Ÿäº§ç¯å¢ƒ)
  â””â”€â”€ develop (å¼€å‘ç¯å¢ƒ)
      â”œâ”€â”€ feature/user-management (åŠŸèƒ½åˆ†æ”¯)
      â”œâ”€â”€ feature/project-board (åŠŸèƒ½åˆ†æ”¯)
      â”œâ”€â”€ bugfix/login-issue (ä¿®å¤åˆ†æ”¯)
      â””â”€â”€ hotfix/security-patch (ç´§æ€¥ä¿®å¤)
```

### 2. å¼€å‘è§„èŒƒ

#### 2.1 ä»£ç é£æ ¼
```javascript
// âœ… ä½¿ç”¨ES6+è¯­æ³•
const fetchData = async () => {
  try {
    const response = await fetch(url);
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('Error:', error);
  }
};

// âœ… ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å
const isUserAuthenticated = true;
const projectList = [];

// âŒ é¿å…ä½¿ç”¨æ— æ„ä¹‰çš„å˜é‡å
const a = true;
const arr = [];
```

#### 2.2 æ³¨é‡Šè§„èŒƒ
```javascript
/**
 * è·å–é¡¹ç›®åˆ—è¡¨
 * @param {number} userId - ç”¨æˆ·ID
 * @param {string} status - é¡¹ç›®çŠ¶æ€
 * @returns {Promise<Array>} é¡¹ç›®åˆ—è¡¨
 */
async function getProjects(userId, status) {
  // å®ç°ä»£ç 
}
```

#### 2.3 é”™è¯¯å¤„ç†
```javascript
// âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†
try {
  const result = await someOperation();
  return { success: true, data: result };
} catch (error) {
  console.error('Operation failed:', error);
  return { success: false, error: error.message };
}

// APIå“åº”æ ¼å¼
{
  success: true,
  data: {...},
  message: 'Success'
}

// é”™è¯¯å“åº”
{
  success: false,
  error: 'Error message',
  code: 'ERROR_CODE'
}
```

### 3. æµ‹è¯•ç­–ç•¥

#### 3.1 æµ‹è¯•å±‚æ¬¡
```
å•å…ƒæµ‹è¯• (Unit Tests)
  â””â”€â”€ ç»„ä»¶æµ‹è¯• (Component Tests)
      â””â”€â”€ é›†æˆæµ‹è¯• (Integration Tests)
          â””â”€â”€ E2Eæµ‹è¯• (End-to-End Tests)
```

#### 3.2 æµ‹è¯•å·¥å…·
- **å•å…ƒæµ‹è¯•**: Jest
- **ç»„ä»¶æµ‹è¯•**: React Testing Library
- **E2Eæµ‹è¯•**: Cypress / Playwright
- **APIæµ‹è¯•**: Postman / Insomnia

---

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### 1. æœåŠ¡å™¨è¦æ±‚

**æœ€ä½é…ç½®**:
- CPU: 2æ ¸
- å†…å­˜: 4GB
- å­˜å‚¨: 40GB SSD
- å¸¦å®½: 5Mbps
- æ“ä½œç³»ç»Ÿ: Ubuntu 20.04+

**æ¨èé…ç½®**:
- CPU: 4æ ¸
- å†…å­˜: 8GB
- å­˜å‚¨: 100GB SSD
- å¸¦å®½: 10Mbps

### 2. éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Nginx (åå‘ä»£ç†)            â”‚
â”‚  - SSL/TLS è¯ä¹¦                      â”‚
â”‚  - é™æ€èµ„æºæœåŠ¡                      â”‚
â”‚  - è´Ÿè½½å‡è¡¡ (å¯é€‰)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  å‰ç«¯åº”ç”¨   â”‚  â”‚  åç«¯API    â”‚
    â”‚  (React)    â”‚  â”‚  (Express)  â”‚
    â”‚  Port: 7076 â”‚  â”‚  Port: 7080 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚   SQLite DB  â”‚
                     â”‚   (æœ¬åœ°æ–‡ä»¶) â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Nginx é…ç½®

```nginx
# /etc/nginx/sites-available/project-management

server {
    listen 80;
    server_name yourdomain.com;

    # é‡å®šå‘åˆ° HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name yourdomain.com;

    # SSL è¯ä¹¦
    ssl_certificate /path/to/cert.pem;
    ssl_certificate_key /path/to/key.pem;

    # å‰ç«¯é™æ€èµ„æº
    location / {
        root /var/www/project-management/build;
        try_files $uri $uri/ /index.html;
        
        # ç¼“å­˜ç­–ç•¥
        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
            expires 1y;
            add_header Cache-Control "public, immutable";
        }
    }

    # åç«¯APIä»£ç†
    location /api/ {
        proxy_pass http://localhost:7080;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    # æ–‡ä»¶ä¸Šä¼ å¤§å°é™åˆ¶
    client_max_body_size 50M;
}
```

### 4. PM2 é…ç½®

```javascript
// ecosystem.config.js
module.exports = {
  apps: [{
    name: 'project-management-api',
    script: './server/server.js',
    instances: 2,
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'production',
      PORT: 7080
    },
    error_file: './logs/err.log',
    out_file: './logs/out.log',
    log_date_format: 'YYYY-MM-DD HH:mm:ss',
    merge_logs: true,
    autorestart: true,
    watch: false,
    max_memory_restart: '500M'
  }]
};
```

### 5. éƒ¨ç½²æ­¥éª¤

```bash
# 1. å…‹éš†ä»£ç 
git clone https://github.com/your-repo/project-management.git
cd project-management

# 2. å®‰è£…ä¾èµ–
npm install

# 3. æ„å»ºå‰ç«¯
npm run build

# 4. åˆå§‹åŒ–æ•°æ®åº“
node server/init-db.js

# 5. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
vim .env

# 6. å¯åŠ¨æœåŠ¡ï¼ˆä½¿ç”¨PM2ï¼‰
pm2 start ecosystem.config.js
pm2 save
pm2 startup

# 7. é…ç½®Nginx
sudo cp nginx.conf /etc/nginx/sites-available/project-management
sudo ln -s /etc/nginx/sites-available/project-management /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx

# 8. é…ç½®SSLè¯ä¹¦ï¼ˆLet's Encryptï¼‰
sudo certbot --nginx -d yourdomain.com
```

### 6. ç›‘æ§ä¸ç»´æŠ¤

**ç›‘æ§æŒ‡æ ‡**:
- æœåŠ¡å™¨èµ„æºï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ï¼‰
- åº”ç”¨æ€§èƒ½ï¼ˆå“åº”æ—¶é—´ã€é”™è¯¯ç‡ï¼‰
- æ•°æ®åº“æ€§èƒ½ï¼ˆæŸ¥è¯¢æ—¶é—´ï¼‰
- ç”¨æˆ·è¡Œä¸ºï¼ˆè®¿é—®é‡ã€æ´»è·ƒåº¦ï¼‰

**æ—¥å¿—ç®¡ç†**:
```bash
# PM2 æ—¥å¿—
pm2 logs project-management-api

# Nginx è®¿é—®æ—¥å¿—
tail -f /var/log/nginx/access.log

# Nginx é”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/error.log

# åº”ç”¨æ—¥å¿—
tail -f logs/app.log
```

**å¤‡ä»½ç­–ç•¥**:
```bash
# æ•°æ®åº“å¤‡ä»½ï¼ˆæ¯æ—¥å®šæ—¶ï¼‰
0 2 * * * sqlite3 /path/to/project_management.db .dump > /backup/db_$(date +\%Y\%m\%d).sql

# æ–‡ä»¶å¤‡ä»½
0 3 * * * tar -czf /backup/uploads_$(date +\%Y\%m\%d).tar.gz /path/to/uploads/
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 1. å‰ç«¯ä¼˜åŒ–

#### 1.1 ä»£ç åˆ†å‰²
```javascript
// è·¯ç”±æ‡’åŠ è½½
const ProjectBoard = React.lazy(() => import('./ProjectBoard'));
const DocumentManager = React.lazy(() => import('./DocumentManager'));

<Suspense fallback={<Loading />}>
  <Routes>
    <Route path="/projects" element={<ProjectBoard />} />
    <Route path="/documents" element={<DocumentManager />} />
  </Routes>
</Suspense>
```

#### 1.2 èµ„æºä¼˜åŒ–
- å›¾ç‰‡å‹ç¼©ä¸æ‡’åŠ è½½
- CSS/JS å‹ç¼©
- Gzip å‹ç¼©
- CDN åŠ é€Ÿï¼ˆå¯é€‰ï¼‰

#### 1.3 ç¼“å­˜ç­–ç•¥
```javascript
// Service Worker ç¼“å­˜
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js');
}

// LocalStorage ç¼“å­˜
localStorage.setItem('cachedData', JSON.stringify(data));
```

### 2. åç«¯ä¼˜åŒ–

#### 2.1 æ•°æ®åº“ä¼˜åŒ–
```sql
-- æ·»åŠ ç´¢å¼•
CREATE INDEX idx_projects_status ON projects(status);
CREATE INDEX idx_documents_project ON documents(project_id);

-- æŸ¥è¯¢ä¼˜åŒ–
SELECT p.*, u.full_name as manager_name
FROM projects p
LEFT JOIN users u ON p.manager_id = u.id
WHERE p.status = 'in_progress'
LIMIT 20;
```

#### 2.2 APIä¼˜åŒ–
- åˆ†é¡µæŸ¥è¯¢
- å­—æ®µç­›é€‰
- å“åº”å‹ç¼©
- ç¼“å­˜ç­–ç•¥

```javascript
// Redis ç¼“å­˜ï¼ˆå¯é€‰ï¼‰
const cachedData = await redis.get(cacheKey);
if (cachedData) {
  return JSON.parse(cachedData);
}

const data = await fetchFromDatabase();
await redis.setex(cacheKey, 300, JSON.stringify(data)); // 5åˆ†é’Ÿè¿‡æœŸ
```

---

## ğŸ”® æœªæ¥è§„åˆ’

### çŸ­æœŸè®¡åˆ’ (1-3ä¸ªæœˆ)

- [ ] **ç§»åŠ¨ç«¯ä¼˜åŒ–**
  - ç§»åŠ¨ç«¯ä¸“å±ç•Œé¢
  - è§¦æ‘¸æ‰‹åŠ¿æ”¯æŒ
  - ç¦»çº¿åŠŸèƒ½

- [ ] **å®æ—¶åä½œ**
  - WebSocket å®æ—¶é€šä¿¡
  - åœ¨çº¿çŠ¶æ€æ˜¾ç¤º
  - ååŒç¼–è¾‘

- [ ] **é«˜çº§æŠ¥è¡¨**
  - é¡¹ç›®ç»Ÿè®¡æŠ¥è¡¨
  - å›¾è¡¨å¯è§†åŒ–
  - æ•°æ®å¯¼å‡º

### ä¸­æœŸè®¡åˆ’ (3-6ä¸ªæœˆ)

- [ ] **å·¥ä½œæµå¼•æ“**
  - è‡ªå®šä¹‰å·¥ä½œæµ
  - å®¡æ‰¹æµç¨‹
  - è‡ªåŠ¨åŒ–è§„åˆ™

- [ ] **é›†æˆèƒ½åŠ›**
  - ç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆOAuthï¼‰
  - é‚®ä»¶ç³»ç»Ÿé›†æˆ
  - äº‘å­˜å‚¨é›†æˆ

- [ ] **å¤šè¯­è¨€æ”¯æŒ**
  - å›½é™…åŒ– (i18n)
  - å¤šæ—¶åŒºæ”¯æŒ

### é•¿æœŸè®¡åˆ’ (6-12ä¸ªæœˆ)

- [ ] **å¾®æœåŠ¡æ¶æ„**
  - æœåŠ¡æ‹†åˆ†
  - API Gateway
  - æœåŠ¡æ²»ç†

- [ ] **AI è¾…åŠ©**
  - æ™ºèƒ½æ¨è
  - è‡ªåŠ¨åˆ†ç±»
  - é£é™©é¢„è­¦

- [ ] **ç§»åŠ¨åº”ç”¨**
  - React Native App
  - Flutter App

---

## ğŸ“š å‚è€ƒèµ„æº

### æŠ€æœ¯æ–‡æ¡£
- [React å®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [Express å®˜æ–¹æ–‡æ¡£](https://expressjs.com/)
- [SQLite æ–‡æ¡£](https://www.sqlite.org/docs.html)
- [JWT è§„èŒƒ](https://jwt.io/)

### è®¾è®¡èµ„æº
- [Material Design](https://material.io/)
- [Ant Design](https://ant.design/)
- [Color Hunt](https://colorhunt.co/)

### æœ€ä½³å®è·µ
- [JavaScript ä»£ç è§„èŒƒ](https://github.com/airbnb/javascript)
- [React æœ€ä½³å®è·µ](https://react.dev/learn)
- [RESTful API è®¾è®¡](https://restfulapi.net/)

---

## ğŸ“ é™„å½•

### A. ç¯å¢ƒå˜é‡

```bash
# .env.example

# æœåŠ¡å™¨é…ç½®
NODE_ENV=production
PORT=7080
FRONTEND_PORT=7076

# JWTå¯†é’¥
JWT_SECRET=your-secret-key-here

# æ•°æ®åº“
DB_PATH=./server/project_management.db

# æ–‡ä»¶ä¸Šä¼ 
UPLOAD_DIR=./server/uploads
MAX_FILE_SIZE=52428800

# é‚®ä»¶é…ç½®
SMTP_HOST=smtp.exmail.qq.com
SMTP_PORT=465
SMTP_USER=your-email@domain.com
SMTP_PASS=your-password
FROM_NAME=ç³»ç»Ÿç®¡ç†å‘˜
FROM_EMAIL=noreply@domain.com
```

### B. å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘ç¯å¢ƒ
npm run dev          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run server       # åªå¯åŠ¨åç«¯
npm run client       # åªå¯åŠ¨å‰ç«¯

# ç”Ÿäº§ç¯å¢ƒ
npm run build        # æ„å»ºå‰ç«¯
npm start            # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

# æ•°æ®åº“
npm run init-db      # åˆå§‹åŒ–æ•°æ®åº“
npm run migrate      # è¿è¡Œè¿ç§»

# æµ‹è¯•
npm test             # è¿è¡Œæµ‹è¯•
npm run test:watch   # ç›‘å¬æ¨¡å¼æµ‹è¯•

# ä»£ç è´¨é‡
npm run lint         # ä»£ç æ£€æŸ¥
npm run format       # ä»£ç æ ¼å¼åŒ–
```

### C. æ•…éšœæ’æŸ¥

**å¸¸è§é—®é¢˜**:

1. **ç«¯å£å ç”¨**
```bash
# Windows
netstat -ano | findstr :7080
taskkill /PID <PID> /F

# Linux/Mac
lsof -ti:7080 | xargs kill -9
```

2. **æ•°æ®åº“é”å®š**
```bash
# å…³é—­æ‰€æœ‰è¿æ¥
lsof | grep project_management.db
kill -9 [PID]
```

3. **å‰ç«¯æ— æ³•è¿æ¥åç«¯**
- æ£€æŸ¥ CORS é…ç½®
- æ£€æŸ¥ API åœ°å€
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

---

## ğŸ‘¥ å›¢é˜Ÿåä½œ

### è§’è‰²åˆ†å·¥
- **é¡¹ç›®ç»ç†**: éœ€æ±‚åˆ†æã€è¿›åº¦ç®¡ç†
- **å‰ç«¯å¼€å‘**: UI/UX å®ç°ã€äº¤äº’ä¼˜åŒ–
- **åç«¯å¼€å‘**: API å¼€å‘ã€æ•°æ®åº“è®¾è®¡
- **æµ‹è¯•å·¥ç¨‹å¸ˆ**: åŠŸèƒ½æµ‹è¯•ã€æ€§èƒ½æµ‹è¯•
- **è¿ç»´å·¥ç¨‹å¸ˆ**: æœåŠ¡å™¨éƒ¨ç½²ã€ç›‘æ§ç»´æŠ¤

### æ²Ÿé€šæœºåˆ¶
- **æ¯æ—¥ç«™ä¼š**: 15åˆ†é’ŸåŒæ­¥è¿›åº¦
- **å‘¨ä¼š**: å›é¡¾æœ¬å‘¨ã€è®¡åˆ’ä¸‹å‘¨
- **ä»£ç è¯„å®¡**: Pull Request Review
- **æ–‡æ¡£æ›´æ–°**: åŠæ—¶åŒæ­¥åˆ°æ–‡æ¡£

---

**æ–‡æ¡£ç»´æŠ¤è€…**: é¡¹ç›®å¼€å‘å›¢é˜Ÿ  
**åˆ›å»ºæ—¥æœŸ**: 2025-10-22  
**æœ€åæ›´æ–°**: 2025-10-22  
**æ–‡æ¡£ç‰ˆæœ¬**: 2.0.0

---

> ğŸ’¡ **æç¤º**: æœ¬æ–‡æ¡£ä¼šæŒç»­æ›´æ–°ï¼Œè¯·å®šæœŸæŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬ã€‚å¦‚æœ‰ç–‘é—®æˆ–å»ºè®®ï¼Œè¯·è”ç³»é¡¹ç›®è´Ÿè´£äººã€‚
